<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <nav class="col-md-2 col-sm-3 sidebar d-flex flex-column p-3">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link text-white" routerLink="/dashboard"><i class="fas fa-tachometer-alt me-2"></i> Dashboard</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" routerLink="/booking"><i class="fas fa-calendar-check me-2"></i> Booking</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" routerLink="/vehicle"><i class="fas fa-car me-2"></i> Vehicles</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" routerLink="/businessnotification"><i class="fas fa-bell me-2"></i> Notifications</a>
        </li>
           <!-- Add History section -->
      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/history"><i class="fas fa-history me-2"></i> History</a>
      </li>
      </ul>
    </nav>


    <!-- Main Content -->
<div class="col-md-10 offset-md-2 mt-4">
  <h2>Booking Details</h2>
  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th>Vehicle Photo</th>
        <th>User</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Total Price</th>
        <th>Status</th>
        <th>Actions</th> <!-- New column for Accept/Reject actions -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let booking of bookings">
        <td>
          <img [src]="booking.vehiclePhoto" alt="Vehicle" class="img-thumbnail" style="width: 100px; height: auto;">
        </td>
        <td>{{ booking.user }}</td>
        <td>{{ booking.startDate | date: 'shortDate' }}</td>
        <td>{{ booking.endDate | date: 'shortDate' }}</td>
        <td>{{ booking.totalPrice | currency: 'NPR' }}</td>
        <td>
          <span 
            class="badge"
            [ngClass]="{
              'bg-success': booking.status === 'Confirmed',
              'bg-warning': booking.status === 'Pending',
              'bg-danger': booking.status === 'Cancelled'
            }"
          >
            {{ booking.status }}
          </span>
        </td>
        <td>
          <!-- Accept and Reject Icons -->
          <button 
            class="btn btn-success btn-sm me-1" 
            (click)="acceptBooking(booking.id)"
            title="Accept Booking">
            <i class="fas fa-check"></i>
          </button>
          <button 
            class="btn btn-danger btn-sm" 
            (click)="rejectBooking(booking.id)" 
            title="Reject Booking">
            <i class="fas fa-times"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

  </div>
</div>
